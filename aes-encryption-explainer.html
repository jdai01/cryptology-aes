<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AES Encryption Explainer</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        h1, h2, h3 {
            color: #2c3e50;
        }
        
        .container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .section {
            flex: 1;
            min-width: 300px;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .visual {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
            min-height: 200px;
        }
        
        .matrix {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 4px;
            margin: 10px 0;
        }
        
        .cell {
            background-color: #e3f2fd;
            border: 1px solid #90caf9;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: monospace;
            font-size: 14px;
        }
        
        .btn {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin: 5px;
        }
        
        .btn:hover {
            background-color: #2980b9;
        }
        
        .animation-container {
            height: 300px;
            position: relative;
            border: 1px solid #ddd;
            margin-top: 20px;
            background-color: #f5f5f5;
            overflow: hidden;
        }
        
        .step {
            display: none;
            padding: 20px;
        }
        
        .step.active {
            display: block;
        }
        
        .tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }
        
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            background-color: #f1f1f1;
            border: 1px solid #ddd;
            border-bottom: none;
            margin-right: 5px;
            border-radius: 5px 5px 0 0;
        }
        
        .tab.active {
            background-color: white;
            border-bottom: 1px solid white;
            margin-bottom: -1px;
        }
        
        pre {
            background-color: #f8f8f8;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
            overflow-x: auto;
            font-size: 14px;
        }
        
        .key-schedule {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 10px;
        }
        
        .round-key {
            background-color: #e8f5e9;
            border: 1px solid #a5d6a7;
            padding: 5px;
            width: 80px;
            text-align: center;
            font-family: monospace;
            font-size: 12px;
        }
    </style>
</head>
<script>
    function animateSubBytes() {
        document.getElementById('aes-animation').innerHTML = '<p style="text-align:center; padding-top: 120px;">Animating SubBytes... üîÑ</p>';
    }
    function animateShiftRows() {
        document.getElementById('aes-animation').innerHTML = '<p style="text-align:center; padding-top: 120px;">Animating ShiftRows... üîÅ</p>';
    }
    function animateMixColumns() {
        document.getElementById('aes-animation').innerHTML = '<p style="text-align:center; padding-top: 120px;">Animating MixColumns... üîÉ</p>';
    }
    function animateAddRoundKey() {
        document.getElementById('aes-animation').innerHTML = '<p style="text-align:center; padding-top: 120px;">Animating AddRoundKey... ‚ú®</p>';
    }
    function animateFullRound() {
        document.getElementById('aes-animation').innerHTML = '<p style="text-align:center; padding-top: 120px;">Animating Full Round... üí•</p>';
    }
</script> <!-- here!!! -->
<body>
    <h1>AES (Advanced Encryption Standard) Explainer</h1>
    
    <div class="tabs">
        <div class="tab active" onclick="switchTab('overview')">Overview</div>
        <div class="tab" onclick="switchTab('rounds')">Round Process</div>
        <div class="tab" onclick="switchTab('visual')">Visualizations</div>
        <div class="tab" onclick="switchTab('implementation')">Code Example</div>
    </div>
    
    <div id="overview" class="step active">
        <h2>What is AES?</h2>
        <p>The Advanced Encryption Standard (AES) is a symmetric encryption algorithm established by the U.S. National Institute of Standards and Technology (NIST) in 2001. It replaced the older Data Encryption Standard (DES) and is now one of the most widely used encryption algorithms worldwide.</p>
        
        <h3>Key Features:</h3>
        <ul>
            <li><strong>Block Cipher:</strong> AES encrypts data in fixed-size blocks (128 bits or 16 bytes)</li>
            <li><strong>Symmetric Key:</strong> Uses the same key for both encryption and decryption</li>
            <li><strong>Key Sizes:</strong> Supports 128, 192, or 256-bit keys (AES-128, AES-192, AES-256)</li>
            <li><strong>Round-based:</strong> Processes data through multiple transformation rounds (10, 12, or 14 rounds depending on key size)</li>
        </ul>
        
        <div class="container">
            <div class="section">
                <h3>AES Security</h3>
                <p>AES is considered extremely secure when implemented correctly:</p>
                <ul>
                    <li>No practical full cryptanalytic attacks have been discovered</li>
                    <li>AES-256 is approved for top-secret information by the NSA</li>
                    <li>Brute-force attacks are computationally infeasible</li>
                </ul>
            </div>
            
            <div class="section">
                <h3>AES Applications</h3>
                <p>AES is used in numerous security applications and protocols:</p>
                <ul>
                    <li>Wi-Fi security (WPA2/WPA3)</li>
                    <li>File and disk encryption</li>
                    <li>HTTPS and TLS/SSL protocols</li>
                    <li>VPN connections</li>
                    <li>Password managers</li>
                </ul>
            </div>
        </div>
    </div>
    
    <div id="rounds" class="step">
        <h2>AES Round Structure</h2>
        <p>AES processes data through a series of transformation rounds. The number of rounds depends on the key size:</p>
        <ul>
            <li>AES-128: 10 rounds</li>
            <li>AES-192: 12 rounds</li>
            <li>AES-256: 14 rounds</li>
        </ul>
        
        <h3>AES State</h3>
        <p>AES operates on a 4√ó4 array of bytes called the "state". Each cell contains one byte (8 bits).</p>
        
        <!-- optional animation -->


        <div class="matrix">
            <div class="cell">S<sub>0,0</sub></div>
            <div class="cell">S<sub>0,1</sub></div>
            <div class="cell">S<sub>0,2</sub></div>
            <div class="cell">S<sub>0,3</sub></div>
            <div class="cell">S<sub>1,0</sub></div>
            <div class="cell">S<sub>1,1</sub></div>
            <div class="cell">S<sub>1,2</sub></div>
            <div class="cell">S<sub>1,3</sub></div>
            <div class="cell">S<sub>2,0</sub></div>
            <div class="cell">S<sub>2,1</sub></div>
            <div class="cell">S<sub>2,2</sub></div>
            <div class="cell">S<sub>2,3</sub></div>
            <div class="cell">S<sub>3,0</sub></div>
            <div class="cell">S<sub>3,1</sub></div>
            <div class="cell">S<sub>3,2</sub></div>
            <div class="cell">S<sub>3,3</sub></div>
        </div>
        
        <h3>Round Transformations</h3>
        <div class="container">
            <div class="section">
                <h4>1. SubBytes</h4>
                <p>Each byte in the state is replaced with another according to a lookup table (S-box). This provides non-linearity and resistance to differential and linear cryptanalysis.</p>
            </div>
            
            <div class="section">
                <h4>2. ShiftRows</h4>
                <p>Bytes in each row of the state are cyclically shifted to the left:</p>
                <ul>
                    <li>1st row: no shift</li>
                    <li>2nd row: shift 1 position left</li>
                    <li>3rd row: shift 2 positions left</li>
                    <li>4th row: shift 3 positions left</li>
                </ul>
            </div>
            
            <div class="section">
                <h4>3. MixColumns</h4>
                <p>Each column is multiplied by a fixed matrix in Galois Field GF(2<sup>8</sup>). This transformation mixes the bytes in each column to provide diffusion.</p>
            </div>
            
            <div class="section">
                <h4>4. AddRoundKey</h4>
                <p>Each byte of the state is combined with a round key using bitwise XOR. The round keys are derived from the original key through a key schedule algorithm.</p>
            </div>
        </div>
        
        <h3>AES Encryption Process</h3>
        <ol>
            <li><strong>Initial Round:</strong> AddRoundKey only</li>
            <li><strong>Main Rounds (9, 11, or 13):</strong> SubBytes ‚Üí ShiftRows ‚Üí MixColumns ‚Üí AddRoundKey</li>
            <li><strong>Final Round:</strong> SubBytes ‚Üí ShiftRows ‚Üí AddRoundKey (no MixColumns)</li>
        </ol>
        
        <h3>Key Schedule</h3>
        <p>The original key is expanded to generate round keys for each round of processing. This involves:</p>
        <ul>
            <li>Word rotations</li>
            <li>S-box substitutions</li>
            <li>XOR operations with round constants</li>
        </ul>
        
        <div class="key-schedule">
            <!-- do we need to add smth here or not?!!!-->
            <div class="round-key">Original Key</div>
            <div class="round-key">Round Key 1</div>
            <div class="round-key">Round Key 2</div>
            <div class="round-key">...</div>
            <div class="round-key">Round Key N</div>
        </div>
    </div>
    
    <div id="visual" class="step">
        <h2>AES Visualizations</h2>
        
        <h3>Interactive Demo</h3>
        <p>Click the buttons below to see the transformations applied in each round.</p>
        
        <div class="animation-container" id="aes-animation">
            <p style="text-align: center; padding-top: 120px;">
                This is a placeholder for an interactive AES animation.<br>
                In a full implementation, this would show the state transformation through each round.
            </p>
        </div>
        
        <div style="margin-top: 10px;">
            <button class="btn" onclick="animateSubBytes()">SubBytes</button>
            <button class="btn" onclick="animateShiftRows()">ShiftRows</button>
            <button class="btn" onclick="animateMixColumns()">MixColumns</button>
            <button class="btn" onclick="animateAddRoundKey()">AddRoundKey</button>
            <button class="btn" onclick="animateFullRound()">Full Round</button>
        </div>
        
        <h3>S-Box Lookup Table</h3> <!-- needs to change! --> 
        <p>The S-Box is a substitution table used in the SubBytes transformation. It provides non-linearity to AES.</p>
        <div class="visual">
            <table style="width:100%; border-collapse: collapse; font-family: monospace;">
                <tbody>
                    <!-- Generate 16 rows of 16 cells each, needs to give an animation-->
                    <script>
                        document.write([...Array(16)].map((_, row) =>
                            '<tr>' + [...Array(16)].map((_, col) => {
                                const value = (row * 16 + col).toString(16).padStart(2, '0').toUpperCase();
                                return `<td style="border:1px solid #ccc; padding:5px; text-align:center;">${value}</td>`;
                            }).join('') + '</tr>'
                        ).join(''));
                    </script>
                </tbody>
            </table>
        </div>
    </div>
    
    <div id="implementation" class="step">
        <h2>AES Implementation Example</h2>
        
        <p>Below is a simplified JavaScript implementation of the AES algorithm. This example shows the basic structure and key components:</p>
        
        <pre>
// Simplified AES implementation (for educational purposes)
class AES {
    constructor(key) {
        this.key = key;
        this.numberOfRounds = key.length === 16 ? 10 : (key.length === 24 ? 12 : 14);
        this.expandedKey = this.keyExpansion(key);
    }
    
    // Encryption method
    encrypt(plaintext) {
        let state = this.createState(plaintext);
        
        // Initial round
        state = this.addRoundKey(state, this.expandedKey, 0);
        
        // Main rounds
        for (let round = 1; round < this.numberOfRounds; round++) {
            state = this.subBytes(state);
            state = this.shiftRows(state);
            state = this.mixColumns(state);
            state = this.addRoundKey(state, this.expandedKey, round);
        }
        
        // Final round (no mixColumns)
        state = this.subBytes(state);
        state = this.shiftRows(state);
        state = this.addRoundKey(state, this.expandedKey, this.numberOfRounds);
        
        return this.stateToOutput(state);
    }
    
    // Decryption method
    decrypt(ciphertext) {
        let state = this.createState(ciphertext);
        
        // Initial round
        state = this.addRoundKey(state, this.expandedKey, this.numberOfRounds);
        
        // Main rounds (inverse operations in reverse order)
        for (let round = this.numberOfRounds - 1; round > 0; round--) {
            state = this.invShiftRows(state);
            state = this.invSubBytes(state);
            state = this.addRoundKey(state, this.expandedKey, round);
            state = this.invMixColumns(state);
        }
        
        // Final round
        state = this.invShiftRows(state);
        state = this.invSubBytes(state);
        state = this.addRoundKey(state, this.expandedKey, 0);
        
        return this.stateToOutput(state);
    }
    
    // AES transformation methods
    subBytes(state) {
        return state.map(row => row.map(byte => byte ^ 0x63)); // Dummy S-box substitute
    }
    
    shiftRows(state) {
        return state.map((row, i) => row.slice(i).concat(row.slice(0, i)));
    }
    
    mixColumns(state) {
        for (let c = 0; c < 4; c++) {
            let col = state.map(row => row[c]);
            col.reverse();
            for (let r = 0; r < 4; r++) state[r][c] = col[r];
        }
        return state;
    }
    
    addRoundKey(state, expandedKey, round) {
        return state.map(row => row.map(byte => byte ^ (0x11 * round))); // Dummy XOR key
    }
    
    // Helper methods
    keyExpansion(key) {
        // Generate round keys from the original key
        // Implementation details...
        return expandedKey;
    }
    
    createState(input) {
        // Convert input to 4√ó4 state array
        // Implementation details...
        return state;
    }
    
    stateToOutput(state) {
        // Convert state back to output format
        // Implementation details...
        return output;
    }
    
    // Inverse transformation methods for decryption
    invSubBytes(state) { /* ... */ }
    invShiftRows(state) { /* ... */ }
    invMixColumns(state) { /* ... */ }
}

// Usage example
const key = new Uint8Array(16); // 128-bit key (all zeros for this example)
const aes = new AES(key);

const message = new TextEncoder().encode("Hello, AES!");
const ciphertext = aes.encrypt(message);
console.log("Encrypted:", ciphertext);

const decrypted = aes.decrypt(ciphertext);
console.log("Decrypted:", new TextDecoder().decode(decrypted));
        </pre>
        
        <p><em>Note: This is a simplified implementation for educational purposes. Production systems should use established cryptographic libraries that have been properly vetted and tested.</em></p>
    </div>
    
    <script>
        function switchTab(tabId) {
            // Hide all tabs
            const steps = document.getElementsByClassName('step');
            for (let i = 0; i < steps.length; i++) {
                steps[i].classList.remove('active');
            }
            
            // Show selected tab
            document.getElementById(tabId).classList.add('active');
            
            // Update tab styling
            const tabs = document.getElementsByClassName('tab');
            for (let i = 0; i < tabs.length; i++) {
                tabs[i].classList.remove('active');
            }
            
            // Find and activate the clicked tab
            const tabs_array = Array.from(tabs);
            const tabIndex = tabId === 'overview' ? 0 : 
                           tabId === 'rounds' ? 1 : 
                           tabId === 'visual' ? 2 : 3;
            tabs_array[tabIndex].classList.add('active');
        }
    </script>
    <!-- WE SHOULD ADD MORE INFORMATION!! -->
</body>
</html>
